<!DOCTYPE html>
<html>
	<head>
		<title> Putt Party Editor </title>
		<meta name="description" content="A small webapp to play golf with your friends">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<meta charset="UTF-8">
		<link rel="stylesheet" href="../assets/style.css">
		<style>
			body {
				display: flex;
				flex-direction: column;
				max-height: 100vh;
				width: 100vw;
			}
			#body {
				overflow: clip;
				flex-grow: 1;
			}
			#settings {
				padding: 2vmin;
			}
			#zoom {
				position: absolute;
				right: 1vmin;
				bottom: 1vmin;
			}
				#zoom::before {
					content: "x";
				}
			#canvas {
				width: 100%;
				height: 100%;
			}
			#place > * {
				position: absolute;
				left: 0;
				top: 0;
				overflow: visible;
			}
				#ptrs {
					pointer-events: none;
					user-select: none;
				}
				.ptr > circle {
					fill: white;
				}
			#wheel {
				position: absolute;
				width: 400px;
				height: 500px;
				overflow-x: clip;
				transform: translate(-50%, calc(-50% - 50px));
			}
				#wheelcontent {
					display: flex;
					width: max-content;
					padding-top: 100px;
					transform: translateX(0);
					transition: ease 0.2s transform;
				}
				.wheel {
					position: relative;
					width: 300px;
					height: 300px;
					margin: 50px;
				}
				.wheel > * {
					position: absolute;
					padding: 0;
					margin: 0;
					border-radius: 0;
				}
				.wheel > div {
					top: -40%;
					font-size: 110%;
					text-align: center;
					width: 100%;
					display: flex;
				}
					.wheel > div > * {
						margin: 0;
						padding: 2vmin;
					}
					.wheeltitle {
						flex-grow: 1;
						margin-left: 1vmin !important;
						margin-right: 1vmin !important;
						background-color: var(--color);
						box-shadow: var(--box-shadow-in), inset var(--box-shadow-out);
					}
					.wheelleft {
						border-radius: 2vmin 0 0 2vmin;
					}
					.wheelright {
						border-radius: 0 2vmin 2vmin 0;
					}
				.wheel > button {
					background-color: var(--color);
					border: none;
					box-shadow: none;
					left: 25%;
					top: -8%;
					transform-origin: 50% 116%;
					width: 50%;
					height: 50%;
					transform: rotate(var(--rotate));
					transition: 0.2s ease transform;
					-webkit-clip-path: url(#clippathwheelslice);
					clip-path: url(#clippathwheelslice);
				}
					.wheel > button:hover {
						outline: none;
						transform: scale(1.1) rotate(var(--rotate));
					}
					.wheel > button:nth-child(2) {
						--rotate: 0;
					}
					.wheel > button:nth-child(3) {
						--rotate: 45deg;
					}
					.wheel > button:nth-child(4) {
						--rotate: 90deg;
					}
					.wheel > button:nth-child(5) {
						--rotate: 135deg;
					}
					.wheel > button:nth-child(6) {
						--rotate: 180deg;
					}
					.wheel > button:nth-child(7) {
						--rotate: 225deg;
					}
					.wheel > button:nth-child(8) {
						--rotate: 270deg;
					}
					.wheel > button:nth-child(9) {
						--rotate: 315deg;
					}
		</style>
		<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="../lib/panzoom.js"></script>
		<script type="text/javascript" src="https://golden-layout.com/files/latest/js/goldenlayout.min.js"></script>
		<link type="text/css" rel="stylesheet" href="https://golden-layout.com/files/latest/css/goldenlayout-base.css" />
		<link type="text/css" rel="stylesheet" href="https://golden-layout.com/files/latest/css/goldenlayout-dark-theme.css" />
	</head>
	<body>
		<script type="module" src="main.js"></script>
		<div id="head">
			Putt Editor
		</div>
		<div id="body"></div>
		<!-- All this stuff is put into golden layout later -->
		<div style="display:none">
			<div id="settings">
				<h2> Settings </h2>
				<h3> Colors </h3>
				<label for="colsky"> Sky Color </label> <input id="colsky" type="color" value="#00aaff">
				<label for="colfloor"> Floor Color </label> <input id="colfloor" type="color" value="#5c8eed">
				<label for="colwall"> Wall Color </label> <input id="colwall" type="color" value="#9cde5e">
				<label for="colobj"> Object Color </label> <input id="colobj" type="color" value="#505d6b">
				<label for="coldecor"> Decor Color </label> <input id="coldecor" type="color" value="#ffffff">
			</div>
			<div id="main">
				<canvas id="background"></canvas>
				<div id="zoom">1.0</div>
				<div id="wheel" style="display:none">
					<div id="wheelcontent">
						<div class="wheel" style="--color:hsla(0, 100%, 50%, 0.5)">
							<div> <button class="wheelleft" disabled> ◀ </button> <div class="wheeltitle"> Other </div> <button class="wheelright" title="Platonics"> ▶ </button> </div>
							<button>Cross</button>
							<button>Tee</button>
							<button>Why</button>
							<button>Cone</button>
							<button>Cylinder</button>
							<button>Donut</button>
						</div>
						<div class="wheel" style="--color:hsla(50, 100%, 50%, 0.5)">
							<div> <button class="wheelleft" title="Other"> ◀ </button> <div class="wheeltitle"> Platonics </div> <button class="wheelright" title="Surfaces"> ▶ </button> </div>
							<button>Tetra</button>
							<button>Cube</button>
							<button>Octa</button>
							<button>Dodeca</button>
							<button>Icose</button>
							<button>Sphere</button>
						</div>
						<div class="wheel" style="--color:hsla(100, 100%, 50%, 0.5)">
							<!-- Most important in center -->
							<div> <button class="wheelleft" title="Platonics"> ◀ </button> <div class="wheeltitle"> Surfaces </div> <button class="wheelright" title="Game"> ▶ </button> </div>
							<button>Floor</button>
							<button>BFloor</button>
							<button>Wall</button>
							<button>BWall</button>
							<button>Platform</button>
							<button>BPlatform</button>
						</div>
						<div class="wheel" style="--color:hsla(200, 100%, 50%, 0.5)">
							<div> <button class="wheelleft" title="Surfaces"> ◀ </button> <div class="wheeltitle"> Game </div> <button class="wheelright" disabled> ▶ </button> </div>
							<button>Player</button>
							<button>Start</button>
							<button>Hole</button>
							<button>Powerup</button>
						</div>
					</div>
				</div>
				<div id="place">
					<svg id="draw">
						
					</svg>
					<svg id="ptrs">
						<g id="lins" style="display: none;">
							<circle id="circ" stroke="gray" fill="transparent" stroke-width="0.25" />
							<line id="linh" stroke="gray" />
							<line id="linx" stroke="white" />
							<line id="liny" stroke="white" />
							<text id="txth" filter="url(#bgfill)" fill="gray" dominant-baseline="middle" text-anchor="middle"></text>
							<text id="txtx" filter="url(#bgfill)" fill="white" dominant-baseline="middle" text-anchor="middle"></text>
							<text id="txty" filter="url(#bgfill)" fill="white" dominant-baseline="middle" text-anchor="middle"></text>
						</g>
						<g id="ptr2" class="ptr" fill="gray" style="transform:scale(0)">
							<circle cx="1" cy="1" r="5" />
							<text dx="-5" dy="-5" text-anchor="end" font-family="monospace"></text>
						</g>
						<g id="ptr1" class="ptr" fill="white">
							<circle cx="1" cy="1" r="5" />
							<text dx="-5" dy="-5" text-anchor="end" font-family="monospace"></text>
						</g>
					</svg>
				</div>
			</div>
		</div>
		<svg width="0" height="0">
			<defs>
				<clipPath id="clippathwheelslice" clipPathUnits="objectBoundingBox">
					<path d="M 0.2 0.1 L 0.8 0.1 C 0.85 0.1 0.88 0.14 0.86 0.19 L 0.57 0.91 C 0.54 0.97 0.46 0.97 0.43 0.91 L 0.14 0.19 C 0.12 0.14 0.15 0.1 0.2 0.1"/>
				</clipPath>
			</defs>
		</svg>
	</body>
</html>